<% @page_title = "会員リスト" %>
<h2><%= @page_title %></h2>
<hr>
<div class="container">
  <br>
  <% unless current_member %>
    <p class="login_required">会員情報の詳細を閲覧するにはログインが必要です</p>
  <% end %>
   <table class="list">
     <thead>
       <tr>
         <th>ニックネーム</th>
         <th>生年月日</th>
         <th>性別</th>
         <th>操作</th>
       </tr>
     </thead>
     <tbody>
       <% @friends.each do |friend| %>
        <tr>
          <td><%= friend.name %></td>
          <td><%= friend.birthday %></td>
          <td>
            <% if friend.sex == 1 %>
              <%= "男性" %>
            <% else %>
              <%= "女性" %>
            <% end %>
          </td>
          <% if current_member %>
            <td>
              <!-- friend_path: 引数にfriendを設定することでmemberテーブルのリクエストされたID情報を取得する -->
              [<%= link_to "詳細", friend_path(friend) %>]
            </td>
          <% else %>
            <td>
              [<%= link_to "詳細", friends_index_path %>]
            </td>
          <% end %>
        </tr>
       <% end %>
     </tbody>
   </table>
   <%= paginate @friends %>
</div>
